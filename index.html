<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Khadra ‚ù§Ô∏è</title>

<style>
    html, body {
        margin:0; padding:0; width:100%; height:100%;
        overflow:hidden; font-family:'Segoe UI', sans-serif;
        background:linear-gradient(135deg,#ffd1dc,#ff9eb5);
        display:flex; align-items:center; justify-content:center;
        transition: background 1.5s ease;
    }

    @keyframes colorCycle {
        0% { background-color: #ff9eb5; }
        25% { background-color: #a2d2ff; }
        50% { background-color: #ffafcc; }
        75% { background-color: #bde0fe; }
        100% { background-color: #ffc8dd; }
    }

    .main { text-align:center; z-index:10; position:relative; width:90%; }
    h1 { font-size:2.8rem; color:#ff2e63; text-shadow:0 0 15px rgba(255,255,255,0.7); }

    .btn-box { position:relative; width:100%; max-width:400px; height:120px; margin:40px auto; }
    button {
        position:absolute; padding:15px 40px; font-size:1.1rem;
        border-radius:40px; border:none; cursor:pointer; font-weight:bold;
        transition:0.3s; box-shadow:0 5px 15px rgba(0,0,0,0.1);
    }

    .yes { left:10%; background:#ff2e63; color:white; }
    .no { right:10%; background:white; color:#ff2e63; border:2px solid #ff2e63; }
    button:hover { transform:scale(1.1); }
    .hidden { display:none; }

    #blackout {
        position:fixed; top:0; left:0; width:100%; height:100%;
        background:black; color:white; display:none;
        align-items:center; justify-content:center; flex-direction:column;
        font-size:2rem; z-index:999; text-align:center; padding:20px;
    }

    .poem {
        max-width:600px; margin:auto; font-size:1.25rem; line-height:1.6;
        color:#444; padding:35px; display:none; 
        background:rgba(255, 255, 255, 0.85);
        border-radius:25px; box-shadow:0 10px 30px rgba(0,0,0,0.1);
    }

    .flower {
        position:fixed; top:-50px; font-size:25px; pointer-events:none;
        animation:fall linear forwards;
    }
    @keyframes fall { to { transform:translateY(110vh) rotate(360deg); } }
</style>
</head>

<body>

<audio id="mySong" loop>
    <source src="music.mp3" type="audio/mp4">
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="main">
    <div id="stage1">
        <h1>Will you be my Valentine, Khadra? üíê</h1>
        <div class="btn-box">
            <button class="yes" onclick="playAndNext()">YES ‚ù§Ô∏è</button>
            <button class="no" onclick="heartBreak()">NO üíî</button>
        </div>
    </div>

    <div id="stage2" class="hidden">
        <h1>Will you be mine until the end of time? üíç</h1>
        <div class="btn-box">
            <button class="yes" onclick="showPoem()">YES ‚ù§Ô∏è</button>
            <button class="no" id="runBtn" onmouseover="runAway()">NO üíî</button>
        </div>
    </div>

    <div id="poemText" class="poem"></div>
</div>

<div id="blackout"></div>

<script>
const music = document.getElementById("mySong");

function playAndNext() {
    music.play().catch(e => console.log("Audio blocked", e));
    document.getElementById("stage1").classList.add("hidden");
    document.getElementById("stage2").classList.remove("hidden");
}

function heartBreak() {
    const b = document.getElementById("blackout");
    b.style.display = "flex";
    b.innerHTML = "<div style='font-size:100px'>üíî</div>";
    setTimeout(() => { b.innerHTML = "Please consider my small heart üíï"; }, 2000);
    setTimeout(() => {
        let count = 3;
        b.innerHTML = "Taking you back in " + count;
        let interval = setInterval(() => {
            count--;
            b.innerHTML = "Taking you back in " + count;
            if(count <= 0){
                clearInterval(interval);
                b.style.display = "none";
                playAndNext();
            }
        }, 1000);
    }, 4000);
}

function runAway() {
    const btn = document.getElementById("runBtn");
    btn.style.position = "fixed";
    btn.style.left = Math.random() * 70 + 5 + "vw";
    btn.style.top = Math.random() * 70 + 5 + "vh";
}

function showPoem() {
    document.getElementById("stage2").classList.add("hidden");
    document.body.style.animation = "colorCycle 10s infinite alternate";

    const poem = document.getElementById("poemText");
    poem.style.display = "block";
    poem.innerHTML = `
        <h2 style="color:#ff2e63; margin-top:0;">Khadra‚Ä¶</h2>
        From the first moment you walked into my world, something shifted quietly inside me.<br><br>
        You became my calm in chaos, my light in ordinary days.<br><br>
        I don‚Äôt promise perfection. I promise effort, loyalty, and strength when things are hard.<br><br>
        If you say yes today, I won‚Äôt just celebrate a moment. I‚Äôll build a lifetime.<br><br>
        Because loving you, Khadra, is not something I decided‚Ä¶<br>
        It‚Äôs something my heart already chose. ‚ù§Ô∏è
    `;

    setTimeout(() => {
        document.body.style.animation = "none";
        document.body.style.background = "black";
        poem.style.display = "none";
        const b = document.getElementById("blackout");
        b.style.display = "flex";
        b.innerHTML = "Rahim will always love you.Always and Forever. ‚ù§Ô∏è";
    }, 60000);
}

setInterval(() => {
    const flower = document.createElement("div");
    flower.className = "flower";
    flower.innerHTML = ["üå∏", "üåπ", "üå∑", "üíê", "‚ù§Ô∏è"][Math.floor(Math.random() * 5)];
    flower.style.left = Math.random() * 100 + "vw";
    flower.style.animationDuration = (Math.random() * 3 + 2) + "s";
    document.body.appendChild(flower);
    setTimeout(() => flower.remove(), 5000);
}, 300);
</script>

</body>
</html>
